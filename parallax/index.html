
<!DOCTYPE html>

<html lang="ru">

	<head>

		<title>Parallax</title>

		<link rel="stylesheet" href="css/style.css" />

		<meta charset="UTF-8">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
	</head>

	<body>

		<div class="wrapper">
			<div class="page">
				<div class="parallax">
					<div class="parallax_montain parallax_montain_1"></div>
					<div class="parallax_montain parallax_montain_2"></div>
					<div class="parallax_montain parallax_montain_3"></div>
					<div class="parallax_fog"></div>
				</div>
				<div class="content">
					<div class="content_body">
						<div class="content_header">
							<h1 class="content_title">YO!</h1>
							<h2 class="content_subtitle">It's me - DOM</h2>
						</div>
						<div class="content_article">
							<p>Недавно я писал о том, что такое DOM и shadow DOM и чем они отличаются друг от друга. Напомним, что Document Object Model (Объектная Модель Документа) — это объектное представление HTML документа и интерфейс для управления этим объектом. Shadow DOM можно рассматривать как «облегченную» версию DOM. Это также объектно-ориентированное представление элементов HTML, но Shadow DOM позволяет нам разделить основной DOM на меньшие изолированные части, которые можно использовать в документах HTML.

								Другой похожий термин, с которым вы, возможно, сталкивались, это «Virtual DOM». Хотя эта концепция существует уже несколько лет, она стала более популярной благодаря использованию ее в различных фреймворках, таких как React, Vuejs и т.д.. В этой статье я расскажу, что такое виртуальный DOM, чем он отличается от обычного DOM и как он используется.

								Зачем нам нужен virtual DOM?
								Чтобы понять, почему возникла концепция виртуального DOM, давайте вернемся к DOM. Как я уже упоминал, в DOM есть две части — объектное представление документа HTML и API для управления этим объектом.

								Например, давайте возьмем в качестве примера простой HTML-документ с неупорядоченным списком и одним элементом списка.</p>
							<p>DOM не был сделан для этого …
								Когда в 1998 году была выпущена первая спецификация для DOM, мы создавали и управляли веб-страницами по-другому. API DOM использовался для создания и обновления содержимого страниц гораздо реже, чем это делается сегодня.

								Простые методы, такие как  document.getElementsByClassName() подходят для небольшого количества изменений, но если мы обновляем несколько элементов на странице каждые несколько секунд, это может стать очень дорогостоящим, чтобы постоянно запрашивать и обновлять DOM.

								Более того, из-за способа настройки API-интерфейсов обычно проще выполнять более дорогостоящие операции, когда мы обновляем большие части документа, чем находить и обновлять конкретные элементы. Возвращаясь к нашему примеру со списком, в некотором смысле проще заменить весь неупорядоченный список новым, чем модифицировать определенные элементы.</p>
							<p>В этом конкретном примере разница в производительности между методами, вероятно, незначительна. Однако по мере роста размера веб-страницы становится все более важным выбирать и обновлять только то, что необходимо.

								… но причем здесь виртуальный DOM!
								Виртуальный DOM был создан для решения этих проблем, связанных с необходимостью частого обновления DOM более производительным способом. В отличие от DOM или shadow DOM, виртуальный DOM не является официальной спецификацией, а представляет собой новый метод взаимодействия с DOM.

								Виртуальный DOM может рассматриваться как копия исходного DOM. Этой копией можно часто манипулировать и обновлять, не используя API DOM. После того как все обновления были внесены в виртуальный DOM, мы можем посмотреть, какие конкретные изменения необходимо внести в исходный DOM, и сделать их целевым и оптимизированным способом.

								Как выглядит виртуальный DOM?
								Слово виртуальный имеет тенденцию добавлять определеную загадочность там где ее на самом деле нет. Фактически, виртуальный DOM — это просто обычный объект Javascript.</p>
							<p>Мы можем думать об этом объекте как о нашем виртуальном DOM. Как и исходный DOM, это объектное представление нашего HTML-документа. Но так как это простой объект Javascript, мы можем свободно и часто манипулировать им, не касаясь реального DOM, пока нам это не понадобится.Вместо того, чтобы использовать один объект для всего объекта, более распространенной является работа с небольшими разделами виртуального DOM. Например, мы можем работать с компонентом списка, который будет привязан к нашему неупорядоченному элементу списка.Как работает виртуальный DOM
								Теперь, когда мы увидели, как выглядит виртуальный DOM, как он работает для решения проблем производительности и удобства использования DOM?

								Как я уже упоминал, мы можем использовать виртуальный DOM, чтобы выделить конкретные изменения, которые необходимо внести в DOM, и сделать эти конкретные обновления по отдельности. Давайте вернемся к нашему неупорядоченному списку и внесем те же изменения, что и в DOM API.

								Первое, что мы сделаем, это сделаем копию виртуального DOM, содержащего изменения, которые мы хотим сделать. Поскольку нам не нужно использовать API DOM, мы фактически можем просто создать новый объект полностью.</p>
						</div>
					</div>

				</div>

			</a>
		</div>

		<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
		<script src="js/script.js"></script>

	</body>
</html>